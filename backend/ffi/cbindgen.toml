# cbindgen configuration for C bindings (used by Haskell FFI)
# This generates C header files from Rust code

language = "C"

# Package information
package_name = "connector_service_ffi"
package_version = "0.1.0"

# Output configuration
output_style = "Both"  # Generate both header and source-like output

# C-specific settings
cpp_compat = false
autogen_warning = "/* Warning: This file is autogenerated by cbindgen. */"

# Header includes
includes = [
    "<stdint.h>",
    "<stdbool.h>",
]

# Root enum variants to include
enum "FfiError" = {
    prefix = "FfiError"
    derive = "PartialEq"
}

# Structure definitions
[struct]
rename_all = "SCREAMING_SNAKE_CASE"

[fn]
rename_args = "SCREAMING_SNAKE_CASE"

# Generate definitions for these functions
[export]
include = [
    "ffi_authorize_sync_c",
    "ffi_free_string",
]

# Exclude internal types from header
[parse]
exclude = [
    "std::*",
    "alloc::*",
    "core::*",
]