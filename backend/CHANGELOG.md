# CHANGELOG

## [Unreleased]

### Added
- **Cashfree Connector Migration**: Complete migration from Haskell (euler-api-txns) to UCS v2 (Rust)
  - Implemented UPI-only payment flows (UPI Intent and UPI Collect)
  - Added Authorize flow for UPI payment initiation
  - Added PSync flow for payment status synchronization
  - Added RSync flow stub for refund status synchronization
  - Implemented proper type safety with Secret<String>, MinorUnit, Email, and Currency types
  - Used StringMinorUnit amount converter for Cashfree (expects amount as string in minor units)
  - Added stub implementations for all unsupported flows (Void, Capture, Refund, etc.)
  - Added source verification stubs for all flows

### Changed
- **Mandatory UCS v2 Macro Framework**: Complete restructuring to use UCS v2 macro framework
  - Replaced manual trait implementations with `create_all_prerequisites!` and `macro_connector_implementation!` macros
  - Added all required trait implementations (ConnectorServiceTrait, PaymentAuthorizeV2, PaymentSyncV2, etc.)
  - Ensured NO manual trait implementations - all generated by macros as required

### Technical Details
- **Payment Methods**: UPI only (Intent and Collect flows)
- **Amount Framework**: StringMinorUnit converter for proper amount handling
- **Type Safety**: Full implementation of guard rails (Secret<String> for sensitive data, proper type usage)
- **Business Logic**: Preserved all features from the original Haskell implementation
- **Macro Compliance**: 100% compliance with UCS v2 macro framework requirements

### Migration Notes
- This migration implements ONLY the flows found in the original Haskell source: Authorize, PSync, and RSync
- All other flows have stub implementations for future expansion
- The connector maintains business logic parity with the original Haskell implementation
- Compilation verified with `cargo check` - no errors or warnings