[common]
environment = "development"

[log.console]
enabled = true
level = "TRACE"
log_format = "default"

[log.kafka]
enabled = false
level = "info"
filtering_directive = "info"
brokers = ["localhost:9092"]
topic = "connector-service-logs"
buffer_limit = 100000

[server]
host = "0.0.0.0"
port = 8085
type = "grpc"

[metrics]
host = "0.0.0.0"
port = 9095

[proxy]
http_url = "http://host.docker.internal:8081"                    # Proxy all HTTP traffic via this proxy
https_url = "http://host.docker.internal:8081"                   # Proxy all HTTPS traffic via this proxy
idle_pool_connection_timeout = 90                     # Timeout for idle pool connections (defaults to 90s)
bypass_proxy_hosts = ""                               # A comma-separated list of domains or IP addresses that should not use the proxy
mitm_proxy_enabled = true                                   # Enable MITM mode
mitm_ca_cert = """-----BEGIN CERTIFICATE-----
MIIDNTCCAh2gAwIBAgIUGUARaXNSdoZGF0qlN8wKbDtJhGswDQYJKoZIhvcNAQEL
BQAwKDESMBAGA1UEAwwJbWl0bXByb3h5MRIwEAYDVQQKDAltaXRtcHJveHkwHhcN
MjUxMjA5MDY0MTMzWhcNMzUxMjA5MDY0MTMzWjAoMRIwEAYDVQQDDAltaXRtcHJv
eHkxEjAQBgNVBAoMCW1pdG1wcm94eTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCC
AQoCggEBAKpWNpYMwZA43HDMvbwUnkw+bLbzygFmATDxMC7VquUEQlIZ2mpgo94E
weo+BnAULEbSWqFdTREx45Wuapp1tCVq4wYU2fs3JzSfC3SU5iiRo7S12j0Z2OnW
QwnDOKsTaC4/MrZfGz9Q3i2dvFrht0DaWa46vfXzdfFeZbuBQEQMe3b6yJu1RfBj
GwrG8xljFpddiVJcKAebyLX9kgWZpYxhYh8qsRiMK6FrSupPsVD+oiJNpB9BpU2c
hUjLARfbHp03Po/LoG8Abg+7wS7xBiBxMpRbiDgz1fndX8cUqPAslOxI1rU21bm/
u+GtirurjadrdWDVEwP26c/b+OcSq88CAwEAAaNXMFUwDwYDVR0TAQH/BAUwAwEB
/zATBgNVHSUEDDAKBggrBgEFBQcDATAOBgNVHQ8BAf8EBAMCAQYwHQYDVR0OBBYE
FKpa1ECzCtYtvmlWKICFAARnStYRMA0GCSqGSIb3DQEBCwUAA4IBAQBTv7EIYIad
+J7ge2HBFuADYorOpFKSEA8tQSYrJayELzfuCgzpiE+Tbe7AG4GnoZK7IaM2/4J9
vT6kWuflqHc2RCHKj0gq11pbKPTk9WruhBfMc+ufRKBshwHazGpVqQ0sWbLWjM/4
la/3mFiHmcn/CgOE5c7myqJ4jBfkAca2os/ttG08YZ8ze9HWxXtyxXis9Q5+/o3P
kw/675HvL39x1F2/oHwlCH+TI0fH/xy9h88p2LvRHMrKJfPY5fWMm4IKfrN/Rabs
JtlKN1wXWO4AjF8DJv2QqOCn0LMScOwlCKO4JadtG91kBPpHQNe5sElaKIto5hOm
I/HEz+loOmX0
-----END CERTIFICATE-----"""
bypass_proxy_urls = []

[test]
enabled = false
mock_server_url = "http://localhost:3000/mockGateway"

# API tag configuration for flow-based tagging
# Supports both simple flow tags and payment-method-specific tags
#
# Format examples:
#   Simple flow:     psync = "GW_TXN_SYNC"
#   With payment_method_type: authorize_upicollect = "GW_INIT_COLLECT"
#
[api_tags.tags]
psync = "GW_TXN_SYNC"

[connectors]
barclaycard.base_url = "https://api.smartpayfuse-test.barclaycard"
airwallex.base_url = "https://api-demo.airwallex.com/api/v1"
shift4.base_url = "https://api.shift4.com"
bluesnap.base_url = "https://sandbox.bluesnap.com"
bluesnap.secondary_base_url = "https://sandpay.bluesnap.com"
multisafepay.base_url = "https://testapi.multisafepay.com/v1/json"
iatapay.base_url = "https://sandbox.iata-pay.iata.org/api/v1"
nmi.base_url = "https://secure.nmi.com"
nexixpay.base_url = "https://xpaysandbox.nexigroup.com/api/phoenix-0.0/psp/api/v1"
authipay.base_url = "https://prod.emea.api.fiservapps.com/sandbox/ipp/payments-gateway/v2/payments"
stax.base_url = "https://apiprod.fattlabs.com"
trustpayments.base_url = "https://webservices.securetrading.net"
fiservemea.base_url = "https://prod.emea.api.fiservapps.com/sandbox/ipp/payments-gateway/v2/payments"
datatrans.base_url = "https://api.sandbox.datatrans.com"
silverflow.base_url = "https://api-sbx.silverflow.co/v1"
celero.base_url = "https://sandbox.gotnpgateway.com"
hipay.base_url = "https://stage-secure-gateway.hipay-tpp.com/rest/"
hipay.secondary_base_url = "https://stage-secure2-vault.hipay-tpp.com/rest/v2/token"
hipay.third_base_url = "https://stage-api-gateway.hipay.com/"
globalpay.base_url = "https://apis.sandbox.globalpay.com/ucp"
forte.base_url = "https://sandbox.forte.net/api/v3"
adyen.base_url = "https://checkout-test.adyen.com/"
adyen.dispute_base_url = "https://ca-test.adyen.com/"
razorpay.base_url = "https://api.razorpay.com/"
razorpayv2.base_url = "https://api.razorpay.com/"
fiserv.base_url = "https://cert.api.fiservapps.com/"
elavon.base_url = "https://api.demo.convergepay.com/VirtualMerchantDemo/"
xendit.base_url = "https://api.xendit.co/"
checkout.base_url = "https://api.sandbox.checkout.com/"
authorizedotnet.base_url = "https://apitest.authorize.net/xml/v1/request.api"
phonepe.base_url = "https://api-preprod.phonepe.com/apis/hermes/"
cashfree.base_url = "https://sandbox.cashfree.com/"
fiuu.base_url = "https://sandbox.merchant.razer.com/"
payload.base_url = "https://api.payload.com"
payu.base_url = "https://test.payu.in/"
paytm.base_url = "https://securestage.paytmpayments.com/"
cashtocode.base_url = "https://cluster05.api-test.cashtocode.com"
bluecode.base_url = "https://dev.eorder.reloadhero.com/"
novalnet.base_url = "https://payport.novalnet.de/v2"
nexinets.base_url = "https://apitest.payengine.de/v1"
noon.base_url = "https://api-test.noonpayments.com/"
mifinity.base_url = "https://demo.mifinity.com/"
braintree.base_url = "https://payments.sandbox.braintree-api.com/graphql"
volt.base_url = "https://api.sandbox.volt.io/"
cryptopay.base_url = "https://business-sandbox.cryptopay.me"
helcim.base_url = "https://api.helcim.com/"
dlocal.base_url = "https://sandbox.dlocal.com/"
placetopay.base_url = "https://test.placetopay.com/rest/gateway"
rapyd.base_url = "https://sandboxapi.rapyd.net"
aci.base_url = "https://eu-test.oppwa.com/"
trustpay.base_url = "https://test-tpgw.trustpay.eu/"
trustpay.base_url_bank_redirects = "https://aapi.trustpay.eu/"
stripe.base_url = "https://api.stripe.com/"
cybersource.base_url = "https://apitest.cybersource.com/"
worldpay.base_url = "https://try.access.worldpay.com/"
worldpayvantiv.base_url = "https://transact.vantivprelive.com/vap/communicator/online"
worldpayvantiv.secondary_base_url = "https://onlinessr.vantivprelive.com"
bamboraapac.base_url = "https://demo.ippayments.com.au/interface/api"
paypal.base_url = "https://api-m.sandbox.paypal.com/"
paysafe.base_url = "https://api.test.paysafe.com/paymenthub/"
billwerk.base_url = "https://api.reepay.com/"
billwerk.secondary_base_url = "https://card.reepay.com/"
nuvei.base_url = "https://ppp-test.nuvei.com/ppp/api/v1"
bankofamerica.base_url = "https://apitest.merchant-services.bankofamerica.com/"
powertranz.base_url = "https://staging.ptranz.com/api"

# Generic Events Configuration
[events]
enabled = false
brokers = ["localhost:9092"]
topic = "audit-trail-events"
partition_key_field = "request_id"

[lineage]
enabled = true
header_name = "x-lineage-ids"
field_prefix = "lineage_"

# Euler-compatible configuration
[events.transformations]
"gateway" = "connector"
"action" = "flow_type"
"entity" = "flow_type"
"message.latency" = "latency_ms"
"message.request_time" = "timestamp"
"message.res_code" = "status_code"
"message.url" = "url"
"message.stage" = "stage"
"message.req_body" = "connector_request_data"
"message.res_body" = "connector_response_data"
"udf_txn_uuid" = "reference_id"

[events.static_values]
"hostname" = "connector-service"
"schema_version" = "V2"
"category" = "OUTGOING_API"
"message.req_type" = "EXTERNAL"
"message.log_type" = "API_CALL"

[unmasked_headers]
keys = ["x-request-id","x-merchant-id","x-lineage-ids","x-reference-id","x-connector","x-tenant-id","x-shadow-mode"]
